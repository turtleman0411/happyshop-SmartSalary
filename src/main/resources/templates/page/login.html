<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org" lang="zh">

<head th:replace="~{layout/head :: head('登入｜HappyShop', 'auth.css')}"></head>

<body class="auth">

<div class="auth-wrap">
  <div class="auth-card">


<!-- ===== 標題 ===== -->
<h3 class="auth-title text-center mb-4">
  🔐 登入 HappyShop
</h3>

<!-- ===== 登入表單 ===== -->
<form th:action="@{/login}"
      method="post"
      autocomplete="on">

  <!-- 帳號 -->
  <div class="mb-3">
    <label for="username" class="form-label auth-label">
      帳號
    </label>
    <input id="username"
           type="text"
           class="form-control auth-input"
           name="username"
           autocomplete="username"
           placeholder="請輸入帳號"
           required>
  </div>

  <!-- 密碼 -->
  <div class="mb-3">
    <label for="password" class="form-label auth-label">
      密碼
    </label>
    <input id="password"
           type="password"
           class="form-control auth-input"
           name="password"
           autocomplete="current-password"
           placeholder="請輸入密碼"
           required>
  </div>

  <!-- Remember Me -->
  <div class="form-check mb-4">
    <input class="form-check-input"
           type="checkbox"
           id="rememberMe"
           name="rememberMe">
    <label class="form-check-label small" for="rememberMe">
      記住我（下次自動登入）
    </label>
  </div>

  <!-- Submit -->
  <div class="d-grid mb-3">
    <button type="submit" class="btn auth-submit">
      登入
    </button>
  </div>

</form>

<!-- ===== 錯誤提示 ===== -->
<div th:if="${error}"
     class="alert alert-danger rounded-3 py-2 px-3 mb-3"
     style="font-size:0.9rem;">

  <div class="fw-semibold mb-1">
    ⚠️ <span th:text="${error}"></span>
  </div>

  <div th:if="${remainAttempts != null}"
       class="small text-muted">
    剩餘嘗試次數：
    <span class="fw-bold" th:text="${remainAttempts}"></span> 次
  </div>

  <div th:if="${locked}"
       class="small text-danger fw-bold mt-1">
    帳號已被鎖定，請聯絡管理員
  </div>
</div>

<!-- ===== 其他連結 ===== -->
<div class="text-center auth-links">
  <a th:href="@{/happyshop/register}">
    還沒有帳號？立即註冊
  </a>

  <div class="mt-2">
    <a th:href="@{/happyshop/home}" class="auth-back">
      ← 返回首頁
    </a>
  </div>
</div>


  </div>
</div>

</body>
</html>
